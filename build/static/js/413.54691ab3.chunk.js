"use strict";(self.webpackChunksyyahat=self.webpackChunksyyahat||[]).push([[413],{7413:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var l=t(5043),a=t(2061),i=t(4794),r=t(4034),o=t(4975),n=(t(4014),t(5084),t(50)),d=t(3216),c=t(4425),m=t(5179),p=t(733),x=t(9391),u=t(6262),f=t(1262),h=t(307),g=t(9359),b=t(339),v=t(579);const j=e=>{let{id:s,hotel_tests:t}=e;const{dil:a}=(0,l.useContext)(m.P),[i,r]=(0,l.useState)(!1),[d,j]=(0,l.useState)(0),[w,N]=(0,l.useState)(0),[y,A]=(0,l.useState)(!1),[k,P]=(0,l.useState)([]),_=()=>{N(0)},C=Array.from({length:5},((e,s)=>{const t=s<(w||d)?h.h:f.h;return(0,v.jsx)(t,{onClick:()=>{j(s+1)},onMouseEnter:()=>{N(s+1)},onMouseLeave:_,className:"star-icon cursor-pointer"},s)})),[S,F]=(0,l.useState)({reviewable_id:s,full_name:"",message:"",rating:d});return(0,v.jsxs)("div",{className:"w-full relative overflow-hidden md:mb-[130px]",children:[(0,v.jsx)("div",{className:"w-full flex items-center justify-center sm:mb-[30px] md:mb-[70px]",children:(0,v.jsxs)("div",{className:"flex w-fit mx-auto items-center justify-center gap-2 relative",children:[(0,v.jsx)("h1",{className:"md:text-[50px] sm:text-[24px] lg:text-[61px] font-[poppins-bold] ",children:"tk"===a?"Synlar":"ru"===a?"\u041e\u0442\u0437\u044b\u0432\u044b":"tr"===a?"M\xfc\u015fteri yorumlar\u0131":"Testimonials"}),(0,v.jsx)("img",{onClick:()=>r(!0),src:p.A,alt:"plus",className:"cursor-pointer object-cover md:w-[38px] sm:w-[18px] "}),(0,v.jsx)("img",{src:x,alt:"icon",className:"absolute w-full -z-10 top-1 bottom-0 left-0 right-0"})]})}),(0,v.jsx)("div",{className:"w-[92%] float-right z-10",children:(0,v.jsx)(o.RC,{breakpoints:{320:{width:320,slidesPerView:1.4},760:{width:760,slidesPerView:2.3},1200:{width:1200,slidesPerView:3.3}},slidesPerView:3.3,spaceBetween:20,pagination:{clickable:!0},modules:[n.dK],className:"relative h-[300px]",scrollbar:!1,children:null===t||void 0===t?void 0:t.map((e=>(0,v.jsx)(o.qr,{children:(0,v.jsx)(b.A,{item:e})},e.id)))})}),(0,v.jsx)("img",{src:u.A,alt:"surat",className:"absolute w-fit -z-10 left-0 top-8"}),i&&(0,v.jsx)("div",{onClick:e=>{e.target===e.currentTarget&&r(!1)},className:"fixed  bg-black/20 z-50 flex items-center justify-center top-0 left-0 bottom-0 right-0",children:(0,v.jsxs)("div",{className:"rounded-[20px] w-fit z-30 bg-white py-5 px-[27px] ",children:[(0,v.jsxs)("div",{className:"w-full flex gap-6 items-center justify-between mb-4",children:[(0,v.jsx)("p",{className:"text-[16px] font-[poppins-semibold] ",children:"Testimonial"}),(0,v.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[C,(0,v.jsx)("p",{className:"text-[16px] font-[poppins-semibold]",children:d})]})]}),(0,v.jsxs)("form",{className:"w-full flex flex-col items-baseline justify-center gap-3",children:[(0,v.jsx)("textarea",{value:S.message,onChange:e=>F({...S,message:e.target.value}),className:"w-full min-h-[100px] py-[7px] px-[11px] bg-[#FAFAFA] rounded-[6px] border border-solid border-[#DADADA] outline-none font-[poppins-regular] ",placeholder:"Text"}),(0,v.jsx)("input",{value:S.full_name,onChange:e=>F({...S,full_name:e.target.value}),className:"w-full p-[11px] bg-[#FAFAFA] rounded-[6px] border border-solid border-[#DADADA] outline-none font-[poppins-regular] ",type:"text",placeholder:"Fullname"}),(0,v.jsx)("button",{className:"w-full text-[16px] font-[poppins-medium] py-[13px] bg-[#009833] rounded-[6px] outline-none flex items-center justify-center text-white",onClick:e=>(async e=>{if(e.preventDefault(),0===d)return void g.Ay.warning("Please select a rating before submitting.");if(!S.message)return void g.Ay.warning("Please write a testimonial before submitting.");if(!S.full_name)return void g.Ay.warning("Please enter your full name before submitting.");const s={reviewable_id:S.reviewable_id,full_name:S.full_name,message:S.message,rating:d};A(!0);try{const e=await c.S.post("/hotels/testimonials",s,{headers:{"Content-Type":"application/json"}});g.Ay.success("Testimonial submitted successfully!"),F({full_name:"",message:"",rating:0}),console.log(e),r(!1)}catch(t){console.error("Error submitting testimonial:",t),g.Ay.error("Error submitting testimonial. Please try again."),t.response?(console.error("Response data:",t.response.data),console.error("Response status:",t.response.status),console.error("Response headers:",t.response.headers)):t.request?console.error("Request:",t.request):console.error("Error message:",t.message)}finally{A(!1)}})(e),disabled:y,children:y?"Submitting...":"Add"})]})]})})]})},w=()=>{var e,s;const[t,p]=(0,l.useState)([]),[x,u]=(0,l.useState)([]),{id:f}=(0,d.g)(),{dil:h}=(0,l.useContext)(m.P);(0,l.useEffect)((()=>{g(),b()}),[h,f]);const g=async()=>{try{const e=await c.S.get("/hotels/".concat(f,"/details"),{headers:{"Accept-Language":h}});if(200!==e.status)throw new Error("HTTP error! status: ".concat(e.status));p(e.data.data),console.log(e.data)}catch(e){console.error(e)}},b=async()=>{await c.S.get("/hotels").then((e=>{u(e.data.data),console.log(e.data)})).catch((e=>{console.log(e)}))},w=x.slice(0,8),N=null===t||void 0===t||null===(e=t.short_description)||void 0===e?void 0:e.split(". "),y=null===N||void 0===N?void 0:N.map((e=>e.trim())),A=null===y||void 0===y?void 0:y.slice(0,1);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.A,{}),(0,v.jsx)("div",{className:"w-[90%] mx-auto mt-[37px] mb-[25px]",children:(0,v.jsxs)("div",{className:"relative w-full",children:[(0,v.jsx)("img",{src:null===t||void 0===t?void 0:t.main_image,alt:"surat",className:"-z-10 object-cover md:h-[523px] sm:h-[300px] rounded-[23px] w-full "}),(0,v.jsxs)("div",{className:"w-[55%] z-10 absolute bottom-[10%] left-[23%] text-center",children:[(0,v.jsx)("p",{className:"text-white sm:text-[18px] md:text-[30px] xl:text-[60px] font-[poppins-bold] ",children:null===t||void 0===t?void 0:t.name}),(0,v.jsx)("p",{className:"text-white sm:text-[12px] md:text-[16px] font-[poppins-regular] ",children:A})]})]})}),(0,v.jsx)("div",{className:"w-[95%] float-right mb-[42px]",children:(0,v.jsx)(o.RC,{breakpoints:{320:{slidesPerView:2.3},760:{slidesPerView:2.7},1200:{slidesPerView:3}},spaceBetween:20,pagination:{clickable:!0},modules:[n.dK],className:"relative sm:h-fit md:h-[425px]  ",scrollbar:!1,children:null===t||void 0===t||null===(s=t.images)||void 0===s?void 0:s.map((e=>(0,v.jsx)(o.qr,{children:(0,v.jsx)("div",{className:"w-full cursor-pointer",children:(0,v.jsx)("img",{src:e,alt:"surat",className:"w-full sm:h-[180px] md:h-[325px] object-cover rounded-[22px]"})})},e)))})}),(0,v.jsxs)("div",{className:"w-[85%] sm:mb-[70px] md:mb-[120px] mx-auto md:flex-row sm:flex-col flex items-start justify-center sm:gap-[42px] md:gap-[80px] lg:gap-[111px]  ",children:[(0,v.jsxs)("div",{className:"sm:w-full md:w-[50%] ",children:[(0,v.jsx)("p",{className:"text-[30px] md:block sm:hidden font-[poppins-semibold] mb-5 ",children:"tk"===h?"Maglumatlar":"ru"===h?"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f":"tr"===h?"Bilgi":"Information"}),(0,v.jsx)("p",{className:"text-[16px] font-[poppins-regular]",children:null===t||void 0===t?void 0:t.description})]}),(0,v.jsxs)("div",{className:"sm:w-full md:w-[50%]",children:[(0,v.jsx)("p",{className:"sm:text-[18px] md:text-[30px] font-[poppins-semibold] mb-5",children:"tk"===h?"Karta":"ru"===h?"\u041a\u0430\u0440\u0442\u0430":"tr"===h?"Harita":"Map"}),(0,v.jsx)("div",{children:(0,v.jsx)("img",{src:null===t||void 0===t?void 0:t.map,alt:"map"})})]})]}),(0,v.jsx)(j,{id:f,hotel_tests:null===t||void 0===t?void 0:t.testimonials}),(0,v.jsxs)("div",{className:"w-[85%] mx-auto mb-[145px] ",children:[(0,v.jsx)("p",{className:" md:block sm:hidden text-[30px] font-[poppins-bold] mb-4",children:"tk"===h?"Oteller":"ru"===h?"\u041e\u0442\u0435\u043b\u0438":"tr"===h?"Oteller":"Hotels"}),(0,v.jsx)("div",{className:"w-full grid sm:gap-[15px] md:gap-[30px] sm:grid-cols-2 md:grid-cols-auto-fill-250 ",children:w.map((e=>(0,v.jsx)(r.A,{item:e},e.id)))})]}),(0,v.jsx)(i.A,{})]})}}}]);
//# sourceMappingURL=413.54691ab3.chunk.js.map